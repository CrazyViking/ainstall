#!/bin/bash

#ARCHLINUX INSTALL SCRIPTS MODE

ping archlinux.org -c 4

pacman -Sy

loadkeys "us"

timedatectl set-ntp true

lsblk

echo "Enter which drive to format as ext4 (ex: sda ,sdb, or sdc):"
read drivePath
echo "After partitioning $drivePath, $drivePath\1 will be formatted as ext4."
echo "Press enter to run cfdisk:"
cfdisk /dev/$drivePath

sleep 1s

mkfs.ext4 /dev/$drivePath\1

echo Mounting $drivePath\1
mount /dev/$drivePath\1 /mnt

echo Installing base and base-devel
sleep 1s

pacstrap -i /mnt base base-devel

echo Generating fstab
genfstab -U -p /mnt >> /mnt/etc/fstab

echo Chrooting into installation
echo Run aconfig inside the chroot environment to finish installation

mv ainstall /mnt
mv aconfig /mnt
sleep 1s

arch-chroot /mnt
